# DNS (Domain Name System)
- DNS: 사람이 읽을 수 있는 문자열과 Internet 프로토콜 기반 정보를 매칭시켜주는 시스템
- 도메인: 대상의 IP 주소등의 정보와 매핑되는 사람이 알아보기편한 문자열
- 레코드: 도메인이 어떤 방식으로 데이터와 매칭되는지 정의하는 기록
  - 다양한 레코드 종류가 있다
  - 예: A 레코드는 IPv4 주소와 매칭, AAAA 레코드는 IPv6 주소와 매칭

## DNS Resolver
- 사용자와 NS 서버 사이에 위치한 서버로 실제 유저의 요청에 따라 IP 주소 등의 정보를 확보하는 서버

## DNS의 구성
- DNS는 계층 구조
  - 즉, 최상위 도메인부터 차례대로 계층구조로 구성돼있음
  - 실제 레코드는 가장 마지막 계층에서 보관 및 처리 (NS 서버)

## DNS의 동작
1. 사용자가 도메인을 입력
2. 사용자의 컴퓨터는 DNS Resolver에게 도메인을 요청
3. DNS Resolver는 먼저 자신의 캐시에 해당 도메인의 정보가 있는지 확인
4. 없다면, 루트 DNS 서버에게 해당 도메인의 정보를 요청
5. 루트 DNS 서버는 최상위 도메인의 NS 서버의 주소를 알려줌
6. DNS Resolver는 최상위 도메인의 NS 서버에게 해당 도메인의 정보를 요청
7. 최상위 도메인의 NS 서버는 하위 도메인의 NS 서버의 주소를 알려줌
8. DNS Resolver는 하위 도메인의 NS 서버에게 해당 도메인의 정보를 요청
9. 하위 도메인의 NS 서버는 해당 도메인의 정보를 알려줌
10. DNS Resolver는 해당 도메인의 정보를 캐시에 저장하고 사용자에게 IP 주소를 전달
11. 사용자의 컴퓨터는 해당 IP 주소로 요청을 보냄
12. 해당 서버는 사용자의 요청을 처리하고 응답을 보냄

## DNS 구조
`mail.example.com.`
- `mail`: 호스트명
- `example`: 2차 도메인
- `com`: 최상위 도메인 (TLD)
- `.`: 루트 도메인

## NS 서버
- 실제 도메인의 레코드를 가지고 있는 서버
  - 이 NS 서버의 주소를 TLDs에 등록해두면 클라이언트에서 DNS 쿼리에 따라 이쪽으로 도착 
- 해당 도메인 및 서브도메인들이 어떤 프로토콜의 어떤 주소로 매핑되는지에 관한 Zone File 보유
  - Zone File: 도메인의 레코드 정보를 가지고 있는 파일
- 여기서 최종적으로 매핑된 주소 확보 (IP 주소 등)